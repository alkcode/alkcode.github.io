"use strict";(self.webpackChunkmapasApp=self.webpackChunkmapasApp||[]).push([[161],{161:(A,m,s)=>{s.r(m),s.d(m,{MapasModule:()=>z});var p=s(808),d=s(895),c=s(898),o=s(223);let u=(()=>{class e{constructor(){}ngOnInit(){new c.Map({container:"mapa",style:"mapbox://styles/mapbox/streets-v11",center:[-99.23712957834202,19.571388184469455],zoom:17})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-full-screen"]],decls:1,vars:0,consts:[["id","mapa"]],template:function(t,a){1&t&&o._UZ(0,"div",0)},styles:["#mapa[_ngcontent-%COMP%]{height:100%;width:100%}"]}),e})();const g=["mapa"],f=function(e){return{"background-color":e}};function h(e,n){if(1&e){const t=o.EpF();o.TgZ(0,"li",5),o.NdJ("click",function(){const i=o.CHM(t).$implicit;return o.oxw().mostrarMarcador(i.marker)})("dblclick",function(){const i=o.CHM(t).index;return o.oxw().borrarMarcador(i)}),o._uU(1),o.qZA()}if(2&e){const a=n.index;o.Q6J("ngStyle",o.VKq(2,f,n.$implicit.color)),o.xp6(1),o.hij(" Marca ",a+1," ")}}let M=(()=>{class e{constructor(){this.zoomLevel=15,this.center=[-99.23712957834202,19.571388184469455],this.marcadores=[]}ngAfterViewInit(){this.mapa=new c.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.center,zoom:this.zoomLevel}),this.leerMarcadoresLocSto()}agregarMarcador(){const t="#xxxxxx".replace(/x/g,r=>(16*Math.random()|0).toString(16));console.log(t);const a=new c.Marker({draggable:!0,color:t}).setLngLat(this.center).addTo(this.mapa);this.marcadores.push({color:t,marker:a}),this.guardarMarcadoresLocSto(),a.on("dragend",()=>{this.guardarMarcadoresLocSto()})}mostrarMarcador(t){this.mapa.flyTo({center:t.getLngLat()})}guardarMarcadoresLocSto(){const t=[];this.marcadores.forEach(a=>{const r=a.color,{lng:i,lat:l}=a.marker.getLngLat();t.push({color:r,centro:[i,l]})}),localStorage.setItem("marcadores",JSON.stringify(t))}leerMarcadoresLocSto(){localStorage.getItem("marcadores")&&JSON.parse(localStorage.getItem("marcadores")).forEach(a=>{const r=new c.Marker({color:a.color,draggable:!0}).setLngLat(a.centro).addTo(this.mapa);this.marcadores.push({marker:r,color:a.color}),r.on("dragend",()=>{this.guardarMarcadoresLocSto()})})}borrarMarcador(t){var a;null===(a=this.marcadores[t].marker)||void 0===a||a.remove(),this.marcadores.splice(t,1),this.guardarMarcadoresLocSto()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-marcadores"]],viewQuery:function(t,a){if(1&t&&o.Gf(g,5),2&t){let r;o.iGM(r=o.CRH())&&(a.divMapa=r.first)}},decls:6,vars:1,consts:[[1,"list-group"],[1,"list-group-item","list-group-item-info",3,"click"],["class","list-group-item",3,"ngStyle","click","dblclick",4,"ngFor","ngForOf"],[1,"mapa-container"],["mapa",""],[1,"list-group-item",3,"ngStyle","click","dblclick"]],template:function(t,a){1&t&&(o.TgZ(0,"ul",0),o.TgZ(1,"li",1),o.NdJ("click",function(){return a.agregarMarcador()}),o._uU(2," +Agregar "),o.qZA(),o.YNc(3,h,2,4,"li",2),o.qZA(),o._UZ(4,"div",3,4)),2&t&&(o.xp6(3),o.Q6J("ngForOf",a.marcadores))},directives:[p.sg,p.PC],styles:[".mapa-container[_ngcontent-%COMP%]{height:100%;width:100%}.list-group[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:99}li[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();const _=["mapa"];let v=(()=>{class e{constructor(){this.lngLat=[0,0]}ngAfterViewInit(){const t=new c.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.lngLat,zoom:15,interactive:!1});(new c.Marker).setLngLat(this.lngLat).addTo(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-mini-mapa"]],viewQuery:function(t,a){if(1&t&&o.Gf(_,5),2&t){let r;o.iGM(r=o.CRH())&&(a.divMapa=r.first)}},inputs:{lngLat:"lngLat"},decls:2,vars:0,consts:[["mapa",""]],template:function(t,a){1&t&&o._UZ(0,"div",null,0)},styles:["div[_ngcontent-%COMP%]{width:100%;height:150px;margin:0}"]}),e})();function Z(e,n){if(1&e&&(o.TgZ(0,"div",4),o.TgZ(1,"div",5),o.TgZ(2,"div",6),o._UZ(3,"app-mini-mapa",7),o.TgZ(4,"div",8),o.TgZ(5,"h5",9),o._uU(6),o.qZA(),o.TgZ(7,"p",10),o._uU(8),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const t=n.$implicit;o.xp6(3),o.Q6J("lngLat",t.lngLat),o.xp6(3),o.hij(" ",t.titulo," "),o.xp6(2),o.hij(" ",t.descripcion," ")}}let C=(()=>{class e{constructor(){this.propiedades=[{titulo:"Teatro Zaragoza",descripcion:"Calzada San Mateo, Atizap\xe1n de Zaragoza",lngLat:[-99.23712957834202,19.571388184469455]},{titulo:"Ayuntamiento de Atizap\xe1n de Zaragoza",descripcion:"Hermosa casa de playa en Acapulco, M\xe9xico",lngLat:[-99.23521574455698,19.543247612499805]},{titulo:"Parque Adolfo Lopez Mateos",descripcion:"Tambien conocido como el jardin de Atizap\xe1n",lngLat:[-99.24606340831552,19.561741695566504]},{titulo:"Club de golf",descripcion:"La Hacienda",lngLat:[-99.23333620041706,19.573599479855854]}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-propiedades"]],decls:7,vars:1,consts:[[1,"row","mt-3"],[1,"col-5"],[1,"col"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-12","mb-2"],[1,"card"],[1,"card-img-top",3,"lngLat"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,a){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h1"),o._uU(4,"Zonas importantes de Atizap\xe1n de Zaragoza"),o.qZA(),o._UZ(5,"hr"),o.qZA(),o.qZA(),o.YNc(6,Z,9,3,"div",3)),2&t&&(o.xp6(6),o.Q6J("ngForOf",a.propiedades))},directives:[p.sg,v],encapsulation:2}),e})();const x=["mapa"],L=[{path:"",children:[{path:"fullscreen",component:u},{path:"zoom-range",component:(()=>{class e{constructor(){this.zoomLevel=10,this.center=[-99.23712957834202,19.571388184469455]}ngOnDestroy(){this.mapa.off("zoom",()=>{}),this.mapa.off("zoomEnd",()=>{}),this.mapa.off("move",()=>{})}ngAfterViewInit(){this.mapa=new c.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.center,zoom:this.zoomLevel}),this.mapa.on("zoom",t=>{this.zoomLevel=this.mapa.getZoom()}),this.mapa.on("zoomEnd",t=>{this.mapa.getZoom()>18&&this.mapa.zoomTo(18)}),this.mapa.on("move",t=>{const a=t.target,{lng:r,lat:i}=a.getCenter();this.center=[r,i]})}zoomIn(){this.mapa.zoomIn()}zoomOut(){this.mapa.zoomOut()}zoomCambio(t){this.mapa.zoomTo(Number(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-zoom-range"]],viewQuery:function(t,a){if(1&t&&o.Gf(x,5),2&t){let r;o.iGM(r=o.CRH())&&(a.divMapa=r.first)}},decls:18,vars:13,consts:[[1,"mapa-container"],["mapa",""],[1,"row"],[1,"col-12"],[1,"form-label"],["type","range","min","0","max","18",1,"form-range",3,"value","input"],["zoomInput",""],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(t,a){if(1&t){const r=o.EpF();o._UZ(0,"div",0,1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"label",4),o._uU(5),o.ALo(6,"number"),o._UZ(7,"br"),o._uU(8),o.ALo(9,"number"),o.ALo(10,"number"),o.qZA(),o.TgZ(11,"input",5,6),o.NdJ("input",function(){o.CHM(r);const l=o.MAs(12);return a.zoomCambio(l.value)}),o.qZA(),o.qZA(),o.TgZ(13,"div",3),o.TgZ(14,"button",7),o.NdJ("click",function(){return a.zoomOut()}),o._uU(15,"-"),o.qZA(),o.TgZ(16,"button",8),o.NdJ("click",function(){return a.zoomIn()}),o._uU(17,"+"),o.qZA(),o.qZA(),o.qZA()}2&t&&(o.xp6(5),o.hij(" Zoom: ",o.xi3(6,4,a.zoomLevel,"2.0-2")," "),o.xp6(3),o.AsE(" Lng, Lat:[",o.xi3(9,7,a.center[0],"2.0-4"),", ",o.xi3(10,10,a.center[1],"2.0-4"),"] "),o.xp6(3),o.Q6J("value",a.zoomLevel))},pipes:[p.JJ],styles:[".mapa-container[_ngcontent-%COMP%]{height:100%;width:100%}.row[_ngcontent-%COMP%]{background-color:#fff;bottom:50px;left:50px;padding:15px;position:fixed;z-index:99;width:300px}"]}),e})()},{path:"marcadores",component:M},{path:"propiedades",component:C},{path:"**",redirectTo:"fullscreen"}]}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[d.Bz.forChild(L)],d.Bz]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[p.ez,y]]}),e})()}}]);